@model CasasRed_Nuevo3_.Controllers.GerenteController.DetailsViewModel

@{
    List<int?> idvs = ViewBag.idvs;
    List<int?> vfntratos = ViewBag.vfntratos;
    List<int?> IDciente = ViewBag.idcliente;

    Layout = "~/Views/Shared/_Layout.cshtml";
    var item1 = 1;
    var clienteid = "";
    var idc = 0;
    var idg = 0;
}

<br />
<br />
<br />
<br />
<style>
    th {
        text-align: center;
    }

    .btn-info {
        color: black;
        background-color: white;
        border-color: white;
    }

        .btn-info:hover {
            color: darkred;
            background-color: white;
            border-color: white;
        }
</style>
@foreach (var item in Model.corretajes)
{
    idc = item.Id;
}
@foreach (var item in Model.gestions)
{
    idg = item.Id;
}


    <div class="container">
        <center><h3>Progreso por departamentos</h3></center>
        <center>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <table class="table table-striped table-responsive-lg">
                            <thead>
                                <tr>
                                    <th scope="col">@Html.ActionLink("Departamento Corretaje", "Editc", new { id = idc }, new { @class = "btn btn-info" })</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="progress">
                                            <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col">
                        <table class="table table-striped table-responsive-lg">
                            <thead>
                                <tr>
                                    <th scope="col">@Html.ActionLink("Departamento Habilitacion", "Edith", new { id = idc }, new { @class = "btn btn-info" })</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="progress">
                                            <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <table class="table table-striped table-responsive-lg">
                            <thead>
                                <tr>
                                    <th scope="col">@Html.ActionLink("Departamento Gestion", "Editg", new { id = idg }, new { @class = "btn btn-info" })</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="progress">
                                            <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col">
                        <table class="table table-striped table-responsive-lg">
                            <thead>
                                <tr>
                                    <th scope="col">@Html.ActionLink("Departamento Contabilidad", "Details", new { id = 1 }, new { @class = "btn btn-info" })</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="progress">
                                            <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <table class="table table-striped table-responsive-lg">
                    <thead>
                        <tr>
                            <center>  <th scope="col">@Html.ActionLink("Departamento Verificacion", "Editv", new { id = idg }, new { @class = "btn btn-info" })</th></center>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="progress">
                                    <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </center>

        @*<div class="container">
                <h2>Departamento Corretaje</h2>
            </div>

            <table class="table table-striped table-responsive-lg">
                <thead>
                    <tr>
                        <th scope="col">Id Casa</th>
                        <th scope="col">Status</th>
                        <th scope="col">Nombre del dueño</th>
                        <th scope="col">Direccion</th>
                        <th scope="col">Progreso</th>
                        <th scope="col">Opciones</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.corretajes)
                    {
                        //var xd = item.Id.ToString();

                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Id)


                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Crt_Status)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Crt_Cliente_Nombre)
                            </td>
                            <td>
                                @Html.DisplayFor(modeItem => item.Crt_Direccion)

                            </td>
                            <td>
                                <div class="progress">
                                    <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                                </div>
                            </td>
                            <td>
                                @Html.ActionLink("Editar", "Edit", new { id = item.Id }, new { @class = "btn btn-primary" }) |
                                @Html.ActionLink("Detalles", "Details", new { id = item.Id }, new { @class = "btn btn-info" }) |
                                @Html.ActionLink("Eliminar", "Delete", new { id = item.Id }, new { @class = "btn btn-danger" })
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

            <h3>Departamento Gestion</h3>
            <table class="table table-striped table-responsive-lg">
                <thead>
                    <tr>
                        <th scope="col">Id de gestion</th>
                        <th scope="col">Id comprador</th>
                        <th scope="col">Nombre del comprador</th>
                        <th scope="col">Telefono</th>
                        <th scope="col">Progreso</th>
                        <th scope="col">Opciones</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.gestions)
                    {
                        clienteid = item.Id_Cliente.ToString();

                        if (Model.gestions.Count() == 0)
                        {
                            <tr>
                                <td>
                                    null
                                </td>
                                <td>
                                    null
                                </td>
                                <td>
                                    null
                                </td>
                                <td>null</td>
                            </tr>
                        }
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Id)
                            </td>

                            <td>

                                @Html.DisplayFor(modelItem => item.Id_Cliente)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Cliente.Gral_Nombre)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Cliente.Gral_Tel_casa)


                            </td>
                            <td>
                                <div class="progress">
                                    <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                                </div>
                            </td>
                            <td>
                                @Html.ActionLink("Editar", "Edit", new { id = item.Id }, new { @class = "btn btn-primary" }) |
                                @Html.ActionLink("Detalles", "Details", new { id = item.Id }, new { @class = "btn btn-info" }) |
                                @Html.ActionLink("Eliminar", "Delete", new { id = item.Id }, new { @class = "btn btn-danger" })
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            <h3>Departamento Habilitacion</h3>
            <table class="table table-striped table-responsive-lg">

                <thead>
                    <tr>
                        <th scope="col">
                            Id Habilitacion
                        </th>
                        <th scope="col">
                            algo
                        </th>
                        <th scope="col">
                            Progreso
                        </th>
                        <th>Opciones</th>
                    </tr>

                </thead>
                <tbody>
                    <tr>
                        <td>
                            test
                        </td>
                        <td>
                            fun
                        </td>
                        <td>
                            <div class="progress">
                                <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                            </div>
                        </td>
                        <td>
                            @Html.ActionLink("Editar", "Edit", new { id = item1 }, new { @class = "btn btn-primary" }) |
                            @Html.ActionLink("Detalles", "Details", new { id = item1 }, new { @class = "btn btn-info" }) |
                            @Html.ActionLink("Eliminar", "Delete", new { id = item1 }, new { @class = "btn btn-danger" })
                        </td>
                    </tr>
                </tbody>
            </table>

            <h4>Departamento de Verificacion</h4>

            <table class="table table-striped table-responsive-lg">

                <thead>
                    <tr>
                        <th scope="col">
                            Id Verificacion
                        </th>
                        <th scope="col">
                            Id cliente
                        </th>
                        <th>
                            Trato al cliente
                        </th>
                        <th scope="col">
                            Progreso
                        </th>
                        <th>Opciones</th>
                    </tr>

                </thead>
                <tbody>
                    <tr>
                        @if (Model.verificacions.Count() == 0)
                        {
                            <td>
                                null
                            </td>
                            <td>
                                null
                            </td>
                            <td>
                                null
                            </td>
                        }
                        else
                        {
                            for (int i = 0; i < Model.verificacions.Count() - 1; i++)
                            {
                                if (idvs[i].ToString() == clienteid.ToString())
                                {
                                    <td>
                                        @idvs[i]
                                    </td>
                                    <td>
                                        @IDciente[i]
                                    </td>
                                    <td>
                                        @vfntratos[i]
                                    </td>
                                    break;
                                }
                                else
                                {



                                }
                            }
                        }
                        <td>
                            <div class="progress">
                                <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                            </div>
                        </td>
                        <td>
                            @Html.ActionLink("Editar", "Edit", new { id = item1 }, new { @class = "btn btn-primary" }) |
                            @Html.ActionLink("Detalles", "Details", new { id = item1 }, new { @class = "btn btn-info" }) |
                            @Html.ActionLink("Eliminar", "Delete", new { id = item1 }, new { @class = "btn btn-danger" })
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3> Departamento de contabilidad</h3>
            <table class="table table-striped table-responsive-lg">
                <thead>
                    <tr>
                        <th scope="col">
                            Id contabilidad
                        </th>
                        <th scope="col">
                            algo
                        </th>
                        <th>Progreso</th>
                        <th>Opciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            test
                        </td>
                        <td>
                            fun
                        </td>
                        <td>
                            <div class="progress">
                                <div id="bar" class="progress-bar progress-bar-striped bg-danger" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                            </div>
                        </td>
                        <td>
                            @Html.ActionLink("Editar", "Edit", new { id = item1 }, new { @class = "btn btn-primary" }) |
                            @Html.ActionLink("Detalles", "Details", new { id = item1 }, new { @class = "btn btn-info" }) |
                            @Html.ActionLink("Eliminar", "Delete", new { id = item1 }, new { @class = "btn btn-danger" })
                        </td>
                    </tr>
                </tbody>
            </table>*@
    </div>
